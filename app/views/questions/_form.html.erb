<%= form_for @question do |f| %>
  <%= render "shared/error_messages", object: @question %>
  <div class="field">
    <%= f.label :subject_id %>
    <%= f.select :subject_id,
      @subjects.collect {|subject| [subject.name, subject.id ]},
      {}, {class: "form-control"} %>
  </div>
  <div class="field">
    <%= f.label :content %>
    <%= f.text_area :content, class: "form-control" %>
  </div>
  <div class="fields">
    <%= f.label :question_type %>
    <%= f.select :question_type, Question.question_types.keys.to_a, {},
      {class: "form-control"} %>
  </div>
  <div class="field">
    <%= f.hidden_field :state, value: :waitting %>
  </div>
  <div id ="answer_field">
    <%= f.fields_for :answers do |answer_builder| %>
      <%= render "answer_fields", f: answer_builder %>
    <% end %>
    <%= link_to_add_fields t("views.admin.question.add_answer"), f, :answers %>
  </div>
  <div class="clearfix"></div>
  <%= f.submit t("views.admin.question.suggest"),
    class: "btn btn-primary save-answer" %>
<% end %>
